{
  "name": "iot-vending-machine-backend",
  "description": "Backend API for IoT Vending Machine platform",
  "repository": "https://github.com/your-username/iot-vending-machine",
  "logo": "https://nestjs.com/img/logo-small.svg",
  "keywords": ["nestjs", "node", "typescript", "trpc", "stripe", "postgresql"],
  "env": {
    "NODE_ENV": {
      "description": "Environment mode",
      "value": "production"
    },
    "NPM_CONFIG_PRODUCTION": {
      "description": "Install only production dependencies",
      "value": "false"
    },
    "NODE_OPTIONS": {
      "description": "Node.js runtime options",
      "value": "--max-old-space-size=512"
    }
  },
  "formation": {
    "web": {
      "amount": 1,
      "size": "S"
    }
  },
  "buildpacks": [
    {
      "url": "heroku/nodejs"
    }
  ],
  "scripts": {
    "postdeploy": "pnpm run db:setup"
  },
  "environments": {
    "BUILD_COMMAND": "cd apps/backend && pnpm install --frozen-lockfile --prod && pnpm build",
    "PNPM_FLAGS": "--frozen-lockfile --prod",
    "NODE_VERSION": "18.20.8"
  },
  "addons": ["postgresql"]
}
